var wysiwyg_height=388,bn="",cssFile="wysiwyg/itvn9online/css/d.css",imgDir="wysiwyg/itvn9online/images/",vtm=0,cache_content="";"Microsoft Internet Explorer"==navigator.appName&&(bn="ie");
var arr_color="000000 003300 006600 009900 00CC00 00FF00 660000 663300 666600 669900 66CC00 66FF00 000033 003333 006633 009933 00CC33 00FF33 660033 663333 666633 669933 66CC33 66FF33 000066 003366 006666 009966 00CC66 00FF66 660066 663366 666666 669966 66CC66 66FF66 000099 003399 006699 009999 00CC99 00FF99 660099 663399 666699 669999 66CC99 66FF99 0000CC 0033CC 0066CC 0099CC 00CCCC 00FFCC 6600CC 6633CC 6666CC 6699CC 66CCCC 66FFCC 0000FF 0033FF 0066FF 0099FF 00CCFF 00FFFF 6600FF 6633FF 6666FF 6699FF 66CCFF 66FFFF 990000 993300 996600 999900 99CC00 99FF00 FF0000 FF3300 FF6600 FF9900 FFCC00 FFFF00 990033 993333 996633 999933 99CC33 99FF33 FF0033 FF3333 FF6633 FF9933 FFCC33 FFFF33 990066 993366 996666 999966 99CC66 99FF66 FF0066 FF3366 FF6666 FF9966 FFCC66 FFFF66 990099 993399 996699 999999 99CC99 99FF99 FF0099 FF3399 FF6699 FF9999 FFCC99 FFFF99 9900CC 9933CC 9966CC 9999CC 99CCCC 99FFCC FF00CC FF33CC FF66CC FF99CC FFCCCC FFFFCC 9900FF 9933FF 9966FF 9999FF 99CCFF 99FFFF FF00FF FF33FF FF66FF FF99FF FFCCFF FFFFFF".split(" "),arr_toolbar=
[{img:"bold",ten:"\u0110\u1eadm",id:"bold"},{img:"italic",ten:"Nghi\u00eang",id:"italic"},{img:"underline",ten:"G\u1ea1ch ch\u00e2n",id:"underline"},{img:"font",ten:"Ph\u00f4ng ch\u1eef",id:"FontName",type:"string",node:{0:"Arial",1:"Sans Serif",2:"Tahoma",3:"Verdana",4:"Courier New",5:"Georgia",6:"Times New Roman",7:"Impact",8:"Comic Sans MS"}},{img:"size",ten:"C\u1ee1 ch\u1eef",id:"FontSize",type:"number",node:{1:'<font size="1">Nh\u1ecf</font>',2:'<font size="2">Th\u01b0\u1eddng</font>',5:'<font size="5">L\u1edbn</font>',
6:'<font size="6">R\u1ea5t l\u1edbn</font>'}},{img:"color",ten:"M\u00e0u ch\u1eef",id:"ForeColor",type:"color",node:{0:""}},{img:"bgcolor",ten:"M\u00e0u \u0111\u00e1nh d\u1ea5u",id:"BackColor",type:"color",node:{0:""}},{img:"table",ten:"Ch\u00e8n b\u1ea3ng",id:"insertTable",type:"tbl",node:{0:""}},{img:"lnk",ten:"Li\u00ean k\u1ebft",id:"lnk"},{img:"ol",ten:"Danh s\u00e1ch \u0111\u01b0\u1ee3c \u0111\u00e1nh s\u1ed1",id:"InsertOrderedList"},{img:"ul",ten:"Danh s\u00e1ch c\u00f3 d\u1ea5u \u0111\u1ea7u d\u00f2ng",
id:"InsertUnorderedList"},{img:"indent_left",ten:"Gi\u1ea3m th\u1ee5t l\u1ec1",id:"Outdent"},{img:"indent_right",ten:"T\u0103ng th\u1ee5t l\u1ec1",id:"Indent"},{img:"left",ten:"C\u0103n tr\u00e1i",id:"Justifyleft"},{img:"center",ten:"C\u0103n gi\u1eefa",id:"Justifycenter"},{img:"right",ten:"C\u0103n ph\u1ea3i",id:"Justifyright"},{img:"justify",ten:"C\u0103n \u0111\u1ec1u",id:"Justifyfull"},{img:"format",ten:"X\u00f3a \u0111\u1ecbnh d\u1ea1ng",id:"unformat"},{img:"img",ten:"H\u00ecnh \u1ea3nh",id:"img"},
{img:"youtube",ten:"Nh\u00fang video t\u1eeb YouTube",id:"youtube"},{img:"",ten:"vSource",id:"viewsource"}];(function(){var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=cssFile;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)})();function qw(b){return document.getElementById(b)}
var $w={a:function(b,c){c&&0<c&&(wysiwyg_height=c);qw(b).style.display="none";for(var a="",e=qw(b).value,f=null,a=a+'<div class="iframe-border"><div class="iframe-toolbar">',a=a+'<ul class="clearfix">',d=0;d<arr_toolbar.length;d++)if(""!=arr_toolbar[d].img)if(arr_toolbar[d].node&&"object"==typeof arr_toolbar[d].node){f=arr_toolbar[d].node;a+='<li class="iframe-submenu"><img title="'+arr_toolbar[d].ten+'" name="'+arr_toolbar[d].id+'" id="'+arr_toolbar[d].id+'" src="'+imgDir+arr_toolbar[d].img+'.png" alt="'+
arr_toolbar[d].ten+'" align="absmiddle" />';a+='<div class="sub-menu">';for(x in f)if("string"==arr_toolbar[d].type)a+='<div><button type="button" onclick="$w.fm(\''+b+"','"+arr_toolbar[d].id+"','"+f[x]+'\')"><font style="font-family:'+f[x]+'">'+f[x]+"</font></button></div>";else if("color"==arr_toolbar[d].type){for(var a=a+'<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>',g=1,h=0;h<arr_color.length;h++)a+='<td title="#'+arr_color[h]+'" onclick="$w.fm(\''+b+"','"+arr_toolbar[d].id+
"','"+arr_color[h]+'\')" style="background:#'+arr_color[h]+";color:#"+arr_color[h]+'"></td>',0==g%12&&(a+="</tr><tr>"),g++;a+="</tr></table>"}else if("tbl"==arr_toolbar[d].type){for(var a=a+'<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>',g=1,k="",l=1;10>=l;l++)for(h=1;10>=h;h++)k=l+"x"+h,a+='<td title="'+k+'" onclick="$w.fm(\''+b+"','"+arr_toolbar[d].id+"','"+k+'\')" style="background:#f8f8f8"></td>',0==g%10&&(a+="</tr><tr>"),g++;a+="</tr></table>"}else a+='<div><button type="button" onclick="$w.fm(\''+
b+"','"+arr_toolbar[d].id+"','"+x+"')\">"+f[x]+"</button></div>";a+="</div>";a+="</li>"}else a+='<li><img title="'+arr_toolbar[d].ten+'" name="'+arr_toolbar[d].id+'" id="'+arr_toolbar[d].id+'" src="'+imgDir+arr_toolbar[d].img+'.png" alt="'+arr_toolbar[d].ten+'" align="absmiddle" onclick="$w.fm(\''+b+"',this.id)\" /></li>";else a+='<li><button type="button" onclick="$w.fm(\''+b+"','"+arr_toolbar[d].id+"')\">"+arr_toolbar[d].ten+"</button></li>";a+="</ul>";a+="</div>";a+='<iframe name="'+this.w(b)+
'" id="'+this.w(b)+'" frameborder="0" class="iframe-content" style="height:'+wysiwyg_height+'px"></iframe>';a+="</div>";qw(b).insertAdjacentHTML("afterEnd",a);a=qw(this.w(b)).contentWindow.document;""==e&&(e="<div></div>");a.open();a.write(e);a.close();a.body.contentEditable=!0;a.designMode="on";if("ie"==bn)for(d=0;d<document.forms.length;d++)document.forms[d].attachEvent("onsubmit",function(){$w.ut(b)});else for(d=0;d<document.forms.length;d++)document.forms[d].addEventListener("submit",function(){$w.ut(b)},
!0)},w:function(b){return b+"wysiwyg"},wid:function(){},fm:function(b,c,a){a&&0!=a||(a=null);qw(this.w(b)).contentWindow.focus();if(1==vtm&&"viewsource"!=c)alert("Ch\u1ebf \u0111\u1ed9 xem n\u00e0y kh\u00f4ng h\u1ed7 tr\u1ee3 \u0111\u1ecbnh d\u1ea1ng v\u0103n b\u1ea3n");else switch(c){case "lnk":var e="",e=a&&""!=a?a:prompt("Li\u00ean k\u1ebft:","");null!=e&&""!=e&&this.df(b,"CreateLink",e);break;case "img":e=null==a?prompt("URL h\u00ecnh \u1ea3nh:",""):a;null!=e&&""!=e&&this.df(b,"InsertImage",e);
break;case "FontSize":case "FontName":case "ForeColor":case "BackColor":this.df(b,c,a);break;case "emo":case "quote":alert("Not func");break;case "youtube":a=prompt("URL video YouTube:","");if(null!=a){a:{c=["?v=","&v=","/v/","&amp;v=","/embed/"];var f=[];for(e in c)if(""!=c[e]&&(f=a.split(c[e]),1<f.length)){a=f[1].split("&")[0].split("#")[0].split("?")[0];break a}alert("Url incorrecta");a=""}""!=a&&this.ih('<iframe width="560" height="315" src="http://www.youtube.com/embed/'+a+'" frameborder="0" allowfullscreen></iframe>',
b)}break;case "innerHTML":this.ih(a,b);break;case "insertTable":if(null==a)return alert("Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c tham s\u1ed1 t\u1ea1o b\u1ea3ng"),!1;e=a.split("x");if(1<e.length){e[0]=parseInt(e[0],10);e[1]=parseInt(e[1],10);a='<table width="100%" border="1" cellspacing="0" cellpadding="6"><tr>';for(c=1;c<=e[0];c++){for(f=1;f<=e[1];f++)a+="<td>&nbsp;</td>";a+="</tr><tr>"}this.ih(a+"</tr></table>",b)}else alert("Kh\u00f4ng \u0111\u1ee7 tham s\u1ed1 \u0111\u1ec3 kh\u1edfi t\u1ea1o");
break;case "unformat":!0==confirm("Vi\u1ec7c x\u00f3a \u0111\u1ecbnh d\u1ea1ng v\u0103n b\u1ea3n s\u1ebd l\u00e0m m\u1ea5t \u0111i c\u00e1c \u0111\u1ecbnh d\u1ea1ng b\u1ea1n \u0111\u00e3 ch\u00e8n.\nB\u1ea1n c\u00f3 mu\u1ed1n ti\u1ebfp t\u1ee5c kh\u00f4ng")&&(this.df(b,"removeformat",a),this.df(b,"unlink",a));break;case "viewsource":$w.vs(b);break;default:this.df(b,c,a)}},df:function(b,c,a){b&&null!=b?qw(this.w(b)).contentWindow.document.execCommand(c,!1,a):alert("Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c \u0111\u00edch \u0111\u1ebfn")},
vs:function(b){b&&null!=b||(b=this.wid());b=qw(this.w(b)).contentWindow.document;if(0==vtm){if("ie"==bn)b.body.innerText=b.body.innerHTML;else{var c=document.createTextNode(b.body.innerHTML);b.body.innerHTML="";b.body.appendChild(c)}b.body.style.fontSize="12px";b.body.style.fontFamily="Courier New";vtm=1}else"ie"==bn?b.body.innerHTML=b.body.innerText:(c=b.body.ownerDocument.createRange(),c.selectNodeContents(b.body),b.body.innerHTML=c.toString()),b.body.style.fontSize="",b.body.style.fontFamily="",
vtm=0},ih:function(b,c){if(c&&null!=c)if(qw(this.w(c)).contentWindow.focus(),"ie"==bn)qw(this.w(c)).contentWindow.document.selection.createRange().pasteHTML(b);else{var a=qw(this.w(c)).contentWindow.document.createElement("div");a.innerHTML=b;this.ihm(a,c)}else alert("Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c v\u1ecb tr\u00ed c\u1ee7a khung")},ihm:function(b,c){var a=qw(this.w(c)).contentWindow.getSelection(),e=a.getRangeAt(0);a.removeAllRanges();e.deleteContents();var f=e.startContainer,
d=e.startOffset,e=document.createRange();if(3==f.nodeType&&3==b.nodeType)f.insertData(d,b.nodeValue),e.setEnd(f,d+b.length),e.setStart(f,d+b.length);else{var g=null;if(3==f.nodeType){var h=f,f=h.parentNode,k=h.nodeValue,g=k.substr(0,d),d=k.substr(d),k=document.createTextNode(g),g=document.createTextNode(d);f.insertBefore(g,h);f.insertBefore(b,g);f.insertBefore(k,b);f.removeChild(h)}else g=f.childNodes[d],f.insertBefore(b,g);e.setEnd(g,0);e.setStart(g,0)}a.addRange(e)},ut:function(b){qw(b).value=qw(this.w(b)).contentWindow.document.body.innerHTML},
dfm:function(b){b=qw(this.w(b)).contentWindow.document;if(""!=cache_content)b.body.innerHTML="ie"==bn?cache_content:cache_content.toString(),cache_content="";else if("ie"==bn){var c=b.body.innerText;cache_content=c;b.body.innerHTML=c}else c=b.body.ownerDocument.createRange(),c.selectNodeContents(b.body),cache_content=c,b.body.innerHTML=c.toString()},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},strip_tags:function(b,c){c||(c="");c=(((c||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");
return b.replace(/\x3c!--[\s\S]*?--\x3e|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,b){return-1<c.indexOf("<"+b.toLowerCase()+">")?a:""})}};